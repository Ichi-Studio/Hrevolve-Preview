# 缺陷报告：BB-20260207-002

## 基本信息
- 标题：部门考勤统计接口携带 date 查询参数时返回 404
- 提交日期：2026-02-07
- 环境：本地 Development；SQLite（hrevolve_test.sqlite）；租户 demo
- 账号/角色：demo_hr（HR 管理员）
- 严重等级（Severity）：S3（功能异常/契约不一致）
- 优先级（Priority）：P1

## 复现步骤
1. 登录获取 token：`POST /api/Auth/login`（demo_hr / demo123 / tenant=demo）
2. 获取组织树：`GET /api/Organizations/tree`，取组织单元 id（示例：`2fbe8758-d47f-44a4-b997-ff84351b3ebf`）
3. 请求 A（不带 query）：`GET /api/Attendance/statistics/department/{departmentId}`
4. 请求 B（带 query）：`GET /api/Attendance/statistics/department/{departmentId}?date=2026-02-07`

## 实际结果
- 请求 A：HTTP 200，返回 `{"message":"获取部门考勤统计功能待实现"}`
- 请求 B：HTTP 404，响应体为空

## 预期结果
- 请求 B 不应因携带合法 query 参数而变为 404。
- 若功能待实现，也应稳定返回 200+占位信息，或返回明确的 501/NotImplemented 风格错误结构（视团队约定）。

## 影响范围
- 影响模块：考勤统计（按部门/日期维度）
- 风险：客户端携带日期参数进行统计查询会被误判为“资源不存在”，导致调用方无法分辨是参数问题、权限问题还是路由问题。

## 证据
- noQuery=200，withDateQuery=404
- noQueryBody=`{"message":"获取部门考勤统计功能待实现"}`
- withQueryBody=空

## 关联项
- 关联需求ID：FR-ATT-006
- 关联用例ID：TC-ATT-006
